{% extends 'layout.html' %}

{% block title %}
    AskMate 2.0
{% endblock %}

{% block content %}
    <h1 id="askmate">AskMate 2.0</h1>
    <div id="sorting_questions">
    <form id="sorting" action="{{ url_for('index') }}" name="sort_by" method="get">
        <label for="sort">Sort by:</label>
        <select id="sort" name="sort">
          <option value="submission_time">Date</option>
          <option value="vote_number">Votes</option>
          <option value="view_number">Number of views</option>
        </select>
        <label id="direction_label" for="direction">Order:</label>
        <select name="direction" id="direction">
            <option value="ASC">Ascending</option>
            <option value="DESC">Descending</option>
        </select>
        <button type="submit">Sort</button>
    </form>
    </div>
    <table id="indexTable">
        <thead>
            <tr>
                <th>Views</th>
                <th>Votes</th>
                <th>Title</th>
            </tr>
        </thead>
        <tbody>
        {% for question in questions %}
            <tr>
                <td>{{ question['view_number'] }}</td>
                <td>{{ question['vote_number'] }}</td>
                <td><a href="{{ url_for('route_questions', question_id=question['id']) }}">{{ question['title'] }}</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div id="button1_container">
        <p><a id="button1" href="{{ url_for('route_ask_question') }}">Ask Question</a></p>
    </div>
{% endblock %}